Just have to revisee toposort and vertex coloring.